<link rel="import" href="../actindo-date-picker/actindo-date-picker.html">

<dom-module id="actindo-grid-filter-between-date">
    <template>
        <style>
            .container
            {
                display: flex;
            }
            actindo-date-picker:first-child
            {
                margin-right: 10px;
            }
        </style>
        <div class="container">
            <actindo-date-picker
                label="From"
                id="from"
                on-value-changed="_onFromSelect">
            </actindo-date-picker>
            <actindo-date-picker
                label="To"
                id="to"
                on-value-changed="_onToSelect">
            </actindo-date-picker>
        </div>
    </template>

    <script>
        class ActindoGridFilterBetweenDate extends Polymer.Element {
            static get is() { return 'actindo-grid-filter-between-date'; }

            static get properties() {
                return {
                    value: {
                        type: Object,
                        notify: true,
                        value: function() {
                            return {};
                        }
                    }
                }
            }
            getDisplayValue(value)
            {
                 return `${value.from} and ${value.to}`;
            }

            _onFromSelect() {
                if(this.$.from._date)
                {
                    let date = this.$.from._date;
                    date.setHours(12);
                    this.set('value.from', date.toISOString().substr(0, 10));
                }
            }

            _onToSelect() {
                if(this.$.to._date)
                {
                    let date = this.$.to._date;
                    date.setHours(12);
                    this.set('value.to', date.toISOString().substr(0, 10));
                }
            }
        }


        customElements.define(ActindoGridFilterBetweenDate.is, ActindoGridFilterBetweenDate);
    </script>
</dom-module>
